MODULE main
    VAR
        system : system_module;
--------------SPECIFICATIONS

LTLSPEC G(!((((system.drone_x_stage_1 <= system.obstacles_stage_0_index_0) & (system.drone_x_stage_1 >= (system.obstacles_stage_0_index_0 - system.obstacle_sizes_stage_0_index_0)) & (system.drone_y_stage_1 <= system.obstacles_stage_0_index_1) & (system.drone_y_stage_1 >= (system.obstacles_stage_0_index_1 - system.obstacle_sizes_stage_0_index_0))) | ((system.drone_x_stage_1 <= system.obstacles_stage_0_index_2) & (system.drone_x_stage_1 >= (system.obstacles_stage_0_index_2 - system.obstacle_sizes_stage_0_index_1)) & (system.drone_y_stage_1 <= system.obstacles_stage_0_index_3) & (system.drone_y_stage_1 >= (system.obstacles_stage_0_index_3 - system.obstacle_sizes_stage_0_index_1))))));


--------------END OF SPECIFICATIONS

MODULE system_module
    CONSTANTS
        success, failure, running, invalid, left, no_action, right, up, down;
    DEFINE
        resume_from_here_in_subtree__drone_control := -3;
        drone_control.active := (TRUE);
        --START OF BLACKBOARD DEFINITIONS
        drone_x_stage_1 :=
            case
                !(read_position.active) : drone_x_stage_0;
                !(TRUE) : drone_x_stage_0;
                (current_action_stage_0 = left) : max(0, (drone_x_stage_0 - 1));
                (current_action_stage_0 = right) : min(6, (drone_x_stage_0 + 1));
                TRUE : drone_x_stage_0;
            esac;
        drone_y_stage_1 :=
            case
                !(read_position.active) : drone_y_stage_0;
                !(TRUE) : drone_y_stage_0;
                (current_action_stage_0 = down) : max(0, (drone_y_stage_0 - 1));
                (current_action_stage_0 = up) : min(6, (drone_y_stage_0 + 1));
                TRUE : drone_y_stage_0;
            esac;
        cell_changed_var_stage_1 :=
            case
                !(read_position.active) : cell_changed_var_stage_0;
                !(TRUE) : cell_changed_var_stage_0;
                TRUE : TRUE;
            esac;
        current_action_stage_1 :=
            case
                !(next_action.active) : current_action_stage_0;
                TRUE : fake_network_stage_0;
            esac;
        fake_network_stage_0 :=
            case
                ((2 <= drone_x_stage_1) & (drone_x_stage_1 <= 3) & (drone_y_stage_1 = 4) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (0 <= destination_y_stage_1) & (destination_y_stage_1 <= 3)) : left;
                ((2 <= drone_x_stage_1) & (drone_x_stage_1 <= 3) & (drone_y_stage_1 = 4) & (destination_x_stage_1 = 1) & (destination_y_stage_1 = 4)) : left;
                ((5 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 3) & (destination_x_stage_1 = 4) & (destination_y_stage_1 = 3)) : left;
                ((2 <= drone_x_stage_1) & (drone_x_stage_1 <= 3) & (drone_y_stage_1 = 1) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (5 <= destination_y_stage_1) & (destination_y_stage_1 <= 6)) : left;
                ((drone_x_stage_1 = 3) & (drone_y_stage_1 = 5) & (destination_x_stage_1 = 2) & (destination_y_stage_1 = 5)) : left;
                ((drone_x_stage_1 = 2) & (drone_y_stage_1 = 0) & (destination_x_stage_1 = 1) & (destination_y_stage_1 = 0)) : left;
                ((drone_x_stage_1 = 1) & (drone_y_stage_1 = 1) & (destination_x_stage_1 = 0) & (destination_y_stage_1 = 1)) : left;
                ((5 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 6) & (3 <= destination_x_stage_1) & (destination_x_stage_1 <= 4) & (destination_y_stage_1 = 6)) : left;
                ((5 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 4) & (destination_x_stage_1 = 4) & (destination_y_stage_1 = 4)) : left;
                ((drone_x_stage_1 = 1) & (drone_y_stage_1 = 5) & (destination_x_stage_1 = 0) & (destination_y_stage_1 = 5)) : left;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 4) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (2 <= destination_y_stage_1) & (destination_y_stage_1 <= 3)) : left;
                ((drone_x_stage_1 = 2) & (drone_y_stage_1 = 4) & (destination_x_stage_1 = 2) & (0 <= destination_y_stage_1) & (destination_y_stage_1 <= 1)) : left;
                ((3 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 1) & (destination_x_stage_1 = 2) & (destination_y_stage_1 = 1)) : left;
                ((drone_x_stage_1 = 6) & (drone_y_stage_1 = 3) & (destination_x_stage_1 = 5) & (destination_y_stage_1 = 3)) : left;
                ((drone_x_stage_1 = 1) & (drone_y_stage_1 = 2) & (destination_x_stage_1 = 0) & (destination_y_stage_1 = 2)) : left;
                ((2 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 1) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (1 <= destination_y_stage_1) & (destination_y_stage_1 <= 3)) : left;
                ((5 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 1) & (3 <= destination_x_stage_1) & (destination_x_stage_1 <= 4) & (destination_y_stage_1 = 1)) : left;
                ((drone_x_stage_1 = 3) & (drone_y_stage_1 = 4) & (destination_x_stage_1 = 2) & (destination_y_stage_1 = 4)) : left;
                ((5 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 0) & (destination_x_stage_1 = 4) & (destination_y_stage_1 = 0)) : left;
                ((drone_x_stage_1 = 6) & (drone_y_stage_1 = 4) & (destination_x_stage_1 = 5) & (destination_y_stage_1 = 4)) : left;
                ((2 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 5) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (destination_y_stage_1 = 5)) : left;
                ((drone_x_stage_1 = 5) & (drone_y_stage_1 = 2) & (destination_x_stage_1 = 4) & (destination_y_stage_1 = 2)) : left;
                ((1 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 6) & (destination_x_stage_1 = 0) & (destination_y_stage_1 = 6)) : left;
                ((drone_x_stage_1 = 3) & (drone_y_stage_1 = 0) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 2) & (destination_y_stage_1 = 0)) : left;
                ((3 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 6) & (1 <= destination_x_stage_1) & (destination_x_stage_1 <= 2) & (destination_y_stage_1 = 6)) : left;
                ((drone_x_stage_1 = 2) & (drone_y_stage_1 = 6) & (destination_x_stage_1 = 1) & (destination_y_stage_1 = 6)) : left;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 5) & (2 <= destination_x_stage_1) & (destination_x_stage_1 <= 3) & (destination_y_stage_1 = 5)) : left;
                ((drone_x_stage_1 = 6) & (drone_y_stage_1 = 1) & (destination_x_stage_1 = 5) & (destination_y_stage_1 = 1)) : left;
                ((drone_x_stage_1 = 2) & (drone_y_stage_1 = 1) & (destination_x_stage_1 = 2) & (4 <= destination_y_stage_1) & (destination_y_stage_1 <= 6)) : left;
                ((drone_x_stage_1 = 6) & (drone_y_stage_1 = 2) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 5) & (destination_y_stage_1 = 2)) : left;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 0) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 3) & (destination_y_stage_1 = 0)) : left;
                ((drone_x_stage_1 = 4) & (drone_y_stage_1 = 1) & (destination_x_stage_1 = 3) & (destination_y_stage_1 = 1)) : left;
                ((drone_x_stage_1 = 1) & (drone_y_stage_1 = 3) & (destination_x_stage_1 = 0) & (destination_y_stage_1 = 3)) : left;
                ((1 <= drone_x_stage_1) & (drone_x_stage_1 <= 2) & (drone_y_stage_1 = 0) & (destination_x_stage_1 = 0) & (destination_y_stage_1 = 0)) : left;
                ((2 <= drone_x_stage_1) & (drone_x_stage_1 <= 3) & (drone_y_stage_1 = 1) & (destination_x_stage_1 = 1) & (destination_y_stage_1 = 4)) : left;
                ((drone_x_stage_1 = 6) & (drone_y_stage_1 = 0) & (destination_x_stage_1 = 5) & (destination_y_stage_1 = 0)) : left;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 4) & (1 <= destination_x_stage_1) & (destination_x_stage_1 <= 3) & (destination_y_stage_1 = 4)) : left;
                ((drone_x_stage_1 = 5) & (drone_y_stage_1 = 5) & (destination_x_stage_1 = 4) & (destination_y_stage_1 = 5)) : left;
                ((drone_x_stage_1 = 4) & (drone_y_stage_1 = 6) & (destination_x_stage_1 = 3) & (destination_y_stage_1 = 6)) : left;
                ((drone_x_stage_1 = 6) & (drone_y_stage_1 = 5) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 5) & (destination_y_stage_1 = 5)) : left;
                ((drone_x_stage_1 = 6) & (drone_y_stage_1 = 6) & (destination_x_stage_1 = 5) & (destination_y_stage_1 = 6)) : left;
                ((drone_x_stage_1 = 4) & (drone_y_stage_1 = 1) & (destination_x_stage_1 = 5) & (destination_y_stage_1 = 1)) : right;
                ((drone_x_stage_1 = 0) & (drone_y_stage_1 = 3) & (destination_x_stage_1 = 1) & (3 <= destination_y_stage_1) & (destination_y_stage_1 <= 6)) : right;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 3) & (drone_y_stage_1 = 1) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (1 <= destination_y_stage_1) & (destination_y_stage_1 <= 3)) : right;
                ((drone_x_stage_1 = 4) & (drone_y_stage_1 = 6) & (destination_x_stage_1 = 5) & (destination_y_stage_1 = 6)) : right;
                ((drone_x_stage_1 = 4) & (drone_y_stage_1 = 4) & (destination_x_stage_1 = 5) & (destination_y_stage_1 = 4)) : right;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 3) & (drone_y_stage_1 = 6) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 6)) : right;
                ((drone_x_stage_1 = 0) & (drone_y_stage_1 = 2) & (destination_x_stage_1 = 1) & (destination_y_stage_1 = 2)) : right;
                ((drone_x_stage_1 = 0) & (drone_y_stage_1 = 5) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (2 <= destination_y_stage_1) & (destination_y_stage_1 <= 3)) : right;
                ((drone_x_stage_1 = 3) & (drone_y_stage_1 = 1) & (destination_x_stage_1 = 2) & (4 <= destination_y_stage_1) & (destination_y_stage_1 <= 6)) : right;
                ((drone_x_stage_1 = 2) & (drone_y_stage_1 = 5) & (3 <= destination_x_stage_1) & (destination_x_stage_1 <= 4) & (destination_y_stage_1 = 5)) : right;
                ((drone_x_stage_1 = 0) & (drone_y_stage_1 = 3) & (2 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (4 <= destination_y_stage_1) & (destination_y_stage_1 <= 6)) : right;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 5) & (drone_y_stage_1 = 0) & (destination_x_stage_1 = 6) & (destination_y_stage_1 = 0)) : right;
                ((drone_x_stage_1 = 0) & (drone_y_stage_1 = 5) & (1 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (4 <= destination_y_stage_1) & (destination_y_stage_1 <= 5)) : right;
                ((drone_x_stage_1 = 3) & (drone_y_stage_1 = 0) & (destination_x_stage_1 = 4) & (destination_y_stage_1 = 0)) : right;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 2) & (drone_y_stage_1 = 0) & (3 <= destination_x_stage_1) & (destination_x_stage_1 <= 4) & (destination_y_stage_1 = 0)) : right;
                ((drone_x_stage_1 = 4) & (drone_y_stage_1 = 2) & (5 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 2)) : right;
                ((drone_x_stage_1 = 0) & (drone_y_stage_1 = 5) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (2 <= destination_y_stage_1) & (destination_y_stage_1 <= 3)) : right;
                ((drone_x_stage_1 = 0) & (drone_y_stage_1 = 1) & (destination_x_stage_1 = 1) & (destination_y_stage_1 = 1)) : right;
                ((drone_x_stage_1 = 5) & (drone_y_stage_1 = 5) & (destination_x_stage_1 = 6) & (destination_y_stage_1 = 5)) : right;
                ((1 <= drone_x_stage_1) & (drone_x_stage_1 <= 2) & (drone_y_stage_1 = 6) & (destination_x_stage_1 = 3) & (destination_y_stage_1 = 6)) : right;
                ((drone_x_stage_1 = 2) & (drone_y_stage_1 = 4) & (destination_x_stage_1 = 3) & (destination_y_stage_1 = 4)) : right;
                ((drone_x_stage_1 = 0) & (drone_y_stage_1 = 0) & (destination_x_stage_1 = 1) & (destination_y_stage_1 = 0)) : right;
                ((2 <= drone_x_stage_1) & (drone_x_stage_1 <= 4) & (drone_y_stage_1 = 5) & (5 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 5)) : right;
                ((drone_x_stage_1 = 0) & (drone_y_stage_1 = 3) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 3)) : right;
                ((drone_x_stage_1 = 2) & (drone_y_stage_1 = 1) & (destination_x_stage_1 = 3) & (destination_y_stage_1 = 1)) : right;
                ((drone_x_stage_1 = 2) & (drone_y_stage_1 = 4) & (3 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (0 <= destination_y_stage_1) & (destination_y_stage_1 <= 1)) : right;
                ((drone_x_stage_1 = 1) & (drone_y_stage_1 = 6) & (destination_x_stage_1 = 2) & (destination_y_stage_1 = 6)) : right;
                ((2 <= drone_x_stage_1) & (drone_x_stage_1 <= 3) & (drone_y_stage_1 = 1) & (3 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (4 <= destination_y_stage_1) & (destination_y_stage_1 <= 6)) : right;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 1) & (drone_y_stage_1 = 1) & (2 <= destination_x_stage_1) & (destination_x_stage_1 <= 3) & (destination_y_stage_1 = 1)) : right;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 5) & (drone_y_stage_1 = 1) & (destination_x_stage_1 = 6) & (destination_y_stage_1 = 1)) : right;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 4) & (drone_y_stage_1 = 0) & (destination_x_stage_1 = 5) & (destination_y_stage_1 = 0)) : right;
                ((drone_x_stage_1 = 1) & (drone_y_stage_1 = 5) & (2 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 5)) : right;
                ((drone_x_stage_1 = 4) & (drone_y_stage_1 = 3) & (5 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 3)) : right;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 5) & (drone_y_stage_1 = 6) & (destination_x_stage_1 = 6) & (destination_y_stage_1 = 6)) : right;
                ((drone_x_stage_1 = 3) & (drone_y_stage_1 = 4) & (2 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (0 <= destination_y_stage_1) & (destination_y_stage_1 <= 1)) : right;
                ((1 <= drone_x_stage_1) & (drone_x_stage_1 <= 3) & (drone_y_stage_1 = 4) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (2 <= destination_y_stage_1) & (destination_y_stage_1 <= 4)) : right;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 1) & (drone_y_stage_1 = 0) & (destination_x_stage_1 = 2) & (destination_y_stage_1 = 0)) : right;
                ((drone_x_stage_1 = 0) & (drone_y_stage_1 = 6) & (1 <= destination_x_stage_1) & (destination_x_stage_1 <= 3) & (destination_y_stage_1 = 6)) : right;
                ((drone_x_stage_1 = 0) & (drone_y_stage_1 = 3) & (destination_x_stage_1 = 0) & (5 <= destination_y_stage_1) & (destination_y_stage_1 <= 6)) : right;
                ((drone_x_stage_1 = 3) & (drone_y_stage_1 = 5) & (destination_x_stage_1 = 4) & (destination_y_stage_1 = 5)) : right;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 5) & (drone_y_stage_1 = 4) & (destination_x_stage_1 = 6) & (destination_y_stage_1 = 4)) : right;
                ((drone_x_stage_1 = 1) & (drone_y_stage_1 = 4) & (2 <= destination_x_stage_1) & (destination_x_stage_1 <= 3) & (destination_y_stage_1 = 4)) : right;
                ((drone_x_stage_1 = 5) & (drone_y_stage_1 = 3) & (destination_x_stage_1 = 6) & (destination_y_stage_1 = 3)) : right;
                ((drone_x_stage_1 = 5) & (drone_y_stage_1 = 2) & (destination_x_stage_1 = 6) & (destination_y_stage_1 = 2)) : right;
                ((drone_x_stage_1 = 0) & (drone_y_stage_1 = 5) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (0 <= destination_y_stage_1) & (destination_y_stage_1 <= 1)) : right;
                ((drone_x_stage_1 = 1) & (drone_y_stage_1 = 3) & (1 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (4 <= destination_y_stage_1) & (destination_y_stage_1 <= 6)) : up;
                ((1 <= drone_x_stage_1) & (drone_x_stage_1 <= 3) & (drone_y_stage_1 = 4) & (destination_x_stage_1 = 0) & (destination_y_stage_1 = 5)) : up;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 3) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (destination_y_stage_1 = 3)) : up;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 1) & (0 <= drone_y_stage_1) & (drone_y_stage_1 <= 2) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (destination_y_stage_1 = 3)) : up;
                ((drone_x_stage_1 = 0) & (drone_y_stage_1 = 5) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 6)) : up;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (0 <= drone_y_stage_1) & (drone_y_stage_1 <= 2) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 3)) : up;
                ((2 <= drone_x_stage_1) & (drone_x_stage_1 <= 3) & (drone_y_stage_1 = 0) & (destination_x_stage_1 = 0) & (destination_y_stage_1 = 5)) : up;
                ((2 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 0) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (2 <= destination_y_stage_1) & (destination_y_stage_1 <= 3)) : up;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (0 <= drone_y_stage_1) & (drone_y_stage_1 <= 4) & (destination_x_stage_1 = 0) & (destination_y_stage_1 = 5)) : up;
                ((drone_x_stage_1 = 1) & (drone_y_stage_1 = 3) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 3)) : up;
                ((1 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (4 <= drone_y_stage_1) & (drone_y_stage_1 <= 5) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 6)) : up;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 1) & (0 <= drone_y_stage_1) & (drone_y_stage_1 <= 2) & (1 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 4)) : up;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (0 <= drone_y_stage_1) & (drone_y_stage_1 <= 1) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 2)) : up;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (1 <= drone_y_stage_1) & (drone_y_stage_1 <= 3) & (destination_x_stage_1 = 0) & (destination_y_stage_1 = 6)) : up;
                ((1 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 4) & (1 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 5)) : up;
                ((2 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 0) & (destination_x_stage_1 = 0) & (destination_y_stage_1 = 6)) : up;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 1) & (0 <= drone_y_stage_1) & (drone_y_stage_1 <= 1) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (destination_y_stage_1 = 2)) : up;
                ((drone_x_stage_1 = 1) & (drone_y_stage_1 = 3) & (destination_x_stage_1 = 0) & (5 <= destination_y_stage_1) & (destination_y_stage_1 <= 6)) : up;
                ((2 <= drone_x_stage_1) & (drone_x_stage_1 <= 3) & (drone_y_stage_1 = 0) & (1 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (4 <= destination_y_stage_1) & (destination_y_stage_1 <= 6)) : up;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 0) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 1)) : up;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 3) & (drone_y_stage_1 = 0) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (2 <= destination_y_stage_1) & (destination_y_stage_1 <= 3)) : up;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 1) & (0 <= drone_y_stage_1) & (drone_y_stage_1 <= 2) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (5 <= destination_y_stage_1) & (destination_y_stage_1 <= 6)) : up;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (0 <= drone_y_stage_1) & (drone_y_stage_1 <= 3) & (1 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (4 <= destination_y_stage_1) & (destination_y_stage_1 <= 6)) : up;
                ((2 <= drone_x_stage_1) & (drone_x_stage_1 <= 3) & (drone_y_stage_1 = 1) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 0)) : down;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (1 <= drone_y_stage_1) & (drone_y_stage_1 <= 6) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 3) & (destination_y_stage_1 = 0)) : down;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 6) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (2 <= destination_y_stage_1) & (destination_y_stage_1 <= 3)) : down;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 1) & (2 <= drone_y_stage_1) & (drone_y_stage_1 <= 3) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (1 <= destination_y_stage_1) & (destination_y_stage_1 <= 2)) : down;
                ((drone_x_stage_1 = 1) & (drone_y_stage_1 = 4) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (2 <= destination_y_stage_1) & (destination_y_stage_1 <= 3)) : down;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 1) & (drone_y_stage_1 = 3) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (destination_y_stage_1 = 2)) : down;
                ((1 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 5) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (0 <= destination_y_stage_1) & (destination_y_stage_1 <= 3)) : down;
                ((drone_x_stage_1 = 0) & (drone_y_stage_1 = 6) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 3) & (0 <= destination_y_stage_1) & (destination_y_stage_1 <= 1)) : down;
                ((drone_x_stage_1 = 1) & (2 <= drone_y_stage_1) & (drone_y_stage_1 <= 6) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 3) & (0 <= destination_y_stage_1) & (destination_y_stage_1 <= 1)) : down;
                ((drone_x_stage_1 = 0) & (1 <= drone_y_stage_1) & (drone_y_stage_1 <= 3) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 0)) : down;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 6) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 5)) : down;
                ((drone_x_stage_1 = 1) & (1 <= drone_y_stage_1) & (drone_y_stage_1 <= 4) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 0)) : down;
                ((1 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (5 <= drone_y_stage_1) & (drone_y_stage_1 <= 6) & (1 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 4)) : down;
                ((2 <= drone_x_stage_1) & (drone_x_stage_1 <= 3) & (5 <= drone_y_stage_1) & (drone_y_stage_1 <= 6) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 3) & (0 <= destination_y_stage_1) & (destination_y_stage_1 <= 1)) : down;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 2) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (destination_y_stage_1 = 3)) : down;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (1 <= drone_y_stage_1) & (drone_y_stage_1 <= 4) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 0)) : down;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 4) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 3)) : down;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 1) & (drone_y_stage_1 = 2) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 3)) : down;
                ((1 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 5) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (2 <= destination_y_stage_1) & (destination_y_stage_1 <= 3)) : down;
                ((1 <= drone_x_stage_1) & (drone_x_stage_1 <= 3) & (drone_y_stage_1 = 1) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 3) & (destination_y_stage_1 = 0)) : down;
                ((0 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (drone_y_stage_1 = 6) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (0 <= destination_y_stage_1) & (destination_y_stage_1 <= 3)) : down;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (2 <= drone_y_stage_1) & (drone_y_stage_1 <= 4) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 1)) : down;
                ((drone_x_stage_1 = 0) & (drone_y_stage_1 = 6) & (1 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 4)) : down;
                ((drone_x_stage_1 = 1) & (drone_y_stage_1 = 4) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 1)) : down;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (3 <= drone_y_stage_1) & (drone_y_stage_1 <= 4) & (4 <= destination_x_stage_1) & (destination_x_stage_1 <= 6) & (destination_y_stage_1 = 2)) : down;
                ((drone_x_stage_1 = 0) & (2 <= drone_y_stage_1) & (drone_y_stage_1 <= 3) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 3) & (destination_y_stage_1 = 1)) : down;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (2 <= drone_y_stage_1) & (drone_y_stage_1 <= 6) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 3) & (destination_y_stage_1 = 1)) : down;
                ((4 <= drone_x_stage_1) & (drone_x_stage_1 <= 6) & (2 <= drone_y_stage_1) & (drone_y_stage_1 <= 3) & (0 <= destination_x_stage_1) & (destination_x_stage_1 <= 1) & (destination_y_stage_1 = 2)) : down;
                TRUE : no_action;
            esac;
        obstacles_stage_0_index_0 := 3;
        obstacles_stage_0_index_1 := 3;
        obstacles_stage_0_index_2 := 0;
        obstacles_stage_0_index_3 := 4;
        obstacle_sizes_stage_0_index_0 := 1;
        obstacle_sizes_stage_0_index_1 := 0;
        --END OF BLACKBOARD DEFINITIONS
    VAR
        node_names : define_nodes;
        read_position : success_DEFAULT_module();
        read_monitor : success_DEFAULT_module();
        cell_changed : cell_changed_module(cell_changed_var_stage_1, current_action_stage_0);
        not_at_destination : not_at_destination_module(current_action_stage_0, destination_x_stage_0, destination_y_stage_0, drone_x_stage_1, drone_y_stage_1);
        new_destination : success_DEFAULT_module();
        destination_selector : composite_selector_without_memory_2(not_at_destination, new_destination);
        next_action : success_DEFAULT_module();
        send_action : success_DEFAULT_module();
        drone_control : composite_sequence_without_memory_6(read_position, read_monitor, cell_changed, destination_selector, next_action, send_action);
        --START OF BLACKBOARD VARIABLES DECLARATION
        drone_x_stage_0 : 0..6;
        drone_y_stage_0 : 0..6;
        drone_speed_stage_0 : 1..2;
        destination_x_stage_0 : 0..6;
        destination_x_stage_1 : 0..6;
        destination_y_stage_0 : 0..6;
        destination_y_stage_1 : 0..6;
        cell_changed_var_stage_0 : boolean;
        current_action_stage_0 : {left, no_action, right, up, down};
        executing_action_stage_0 : {left, no_action, right, up, down};
        --END OF BLACKBOARD VARIABLES DECLARATION
    ASSIGN
        --START OF BLACKBOARD VARIABLES INITIALIZATION
        init(drone_x_stage_0) := 0;
        init(drone_y_stage_0) := 0;
        init(drone_speed_stage_0) := 1;
        init(destination_x_stage_0) := drone_x_stage_0;
        init(destination_y_stage_0) := drone_y_stage_0;
        init(cell_changed_var_stage_0) := FALSE;
        init(current_action_stage_0) := no_action;
        init(executing_action_stage_0) := no_action;
        --END OF BLACKBOARD VARIABLES INITIALIZATION
        --START OF BLACKBOARD VARIABLES TRANSITION
        next(drone_x_stage_0) := drone_x_stage_1;
        next(drone_y_stage_0) := drone_y_stage_1;
        next(drone_speed_stage_0) :=
            case
                !(read_monitor.active) : drone_speed_stage_0;
                !(TRUE) : drone_speed_stage_0;
                ((((drone_x_stage_1 <= obstacles_stage_0_index_0) & (drone_x_stage_1 >= (obstacles_stage_0_index_0 - obstacle_sizes_stage_0_index_0)) & ((drone_y_stage_1 + 2) <= obstacles_stage_0_index_1) & ((drone_y_stage_1 + 2) >= (obstacles_stage_0_index_1 - obstacle_sizes_stage_0_index_0))) | ((drone_x_stage_1 <= obstacles_stage_0_index_0) & (drone_x_stage_1 >= (obstacles_stage_0_index_0 - obstacle_sizes_stage_0_index_0)) & ((drone_y_stage_1 - 2) <= obstacles_stage_0_index_1) & ((drone_y_stage_1 - 2) >= (obstacles_stage_0_index_1 - obstacle_sizes_stage_0_index_0))) | (((drone_x_stage_1 + 2) <= obstacles_stage_0_index_0) & ((drone_x_stage_1 + 2) >= (obstacles_stage_0_index_0 - obstacle_sizes_stage_0_index_0)) & (drone_y_stage_1 <= obstacles_stage_0_index_1) & (drone_y_stage_1 >= (obstacles_stage_0_index_1 - obstacle_sizes_stage_0_index_0))) | (((drone_x_stage_1 - 2) <= obstacles_stage_0_index_0) & ((drone_x_stage_1 - 2) >= (obstacles_stage_0_index_0 - obstacle_sizes_stage_0_index_0)) & (drone_y_stage_1 <= obstacles_stage_0_index_1) & (drone_y_stage_1 >= (obstacles_stage_0_index_1 - obstacle_sizes_stage_0_index_0)))) | (((drone_x_stage_1 <= obstacles_stage_0_index_2) & (drone_x_stage_1 >= (obstacles_stage_0_index_2 - obstacle_sizes_stage_0_index_1)) & ((drone_y_stage_1 + 2) <= obstacles_stage_0_index_3) & ((drone_y_stage_1 + 2) >= (obstacles_stage_0_index_3 - obstacle_sizes_stage_0_index_1))) | ((drone_x_stage_1 <= obstacles_stage_0_index_2) & (drone_x_stage_1 >= (obstacles_stage_0_index_2 - obstacle_sizes_stage_0_index_1)) & ((drone_y_stage_1 - 2) <= obstacles_stage_0_index_3) & ((drone_y_stage_1 - 2) >= (obstacles_stage_0_index_3 - obstacle_sizes_stage_0_index_1))) | (((drone_x_stage_1 + 2) <= obstacles_stage_0_index_2) & ((drone_x_stage_1 + 2) >= (obstacles_stage_0_index_2 - obstacle_sizes_stage_0_index_1)) & (drone_y_stage_1 <= obstacles_stage_0_index_3) & (drone_y_stage_1 >= (obstacles_stage_0_index_3 - obstacle_sizes_stage_0_index_1))) | (((drone_x_stage_1 - 2) <= obstacles_stage_0_index_2) & ((drone_x_stage_1 - 2) >= (obstacles_stage_0_index_2 - obstacle_sizes_stage_0_index_1)) & (drone_y_stage_1 <= obstacles_stage_0_index_3) & (drone_y_stage_1 >= (obstacles_stage_0_index_3 - obstacle_sizes_stage_0_index_1))))) : 1;
                TRUE : 2;
            esac;
        next(destination_x_stage_0) := destination_x_stage_1;
        destination_x_stage_1 :=
            case
                !(new_destination.active) : destination_x_stage_0;
                !(TRUE) : destination_x_stage_0;
                TRUE : {0, 1, 2, 3, 4, 5, 6};
            esac;
        next(destination_y_stage_0) := destination_y_stage_1;
        destination_y_stage_1 :=
            case
                !(new_destination.active) : destination_y_stage_0;
                !(TRUE) : destination_y_stage_0;
                TRUE : {0, 1, 2, 3, 4, 5, 6};
            esac;
        next(cell_changed_var_stage_0) :=
            case
                !(next_action.active) : cell_changed_var_stage_1;
                TRUE : FALSE;
            esac;
        next(current_action_stage_0) := current_action_stage_1;
        next(executing_action_stage_0) :=
            case
                !(send_action.active) : executing_action_stage_0;
                TRUE : current_action_stage_1;
            esac;
        --END OF BLACKBOARD VARIABLES TRANSITION

MODULE define_nodes
    DEFINE
        drone_control := 0;
        read_position := 1;
        read_monitor := 2;
        cell_changed := 3;
        destination_selector := 4;
        not_at_destination := 5;
        new_destination := 6;
        next_action := 7;
        send_action := 8;
MODULE composite_sequence_without_memory_6(child_0, child_1, child_2, child_3, child_4, child_5)
    CONSTANTS
        success, failure, running, invalid;
    DEFINE
        status := active ? internal_status : invalid;
        internal_status :=
            case
                !(child_0.internal_status = success) : child_0.internal_status;
                !(child_1.internal_status = success) : child_1.internal_status;
                !(child_2.internal_status = success) : child_2.internal_status;
                !(child_3.internal_status = success) : child_3.internal_status;
                !(child_4.internal_status = success) : child_4.internal_status;
                !(child_5.internal_status = success) : child_5.internal_status;
                TRUE : success;
            esac;
        child_0.active := active;
        child_1.active := child_0.status = success;
        child_2.active := child_1.status = success;
        child_3.active := child_2.status = success;
        child_4.active := child_3.status = success;
        child_5.active := child_4.status = success;
MODULE composite_selector_without_memory_2(child_0, child_1)
    CONSTANTS
        success, failure, running, invalid;
    DEFINE
        status := active ? internal_status : invalid;
        internal_status :=
            case
                !(child_0.internal_status = failure) : child_0.internal_status;
                !(child_1.internal_status = failure) : child_1.internal_status;
                TRUE : failure;
            esac;
        child_0.active := active;
        child_1.active := child_0.status = failure;
MODULE cell_changed_module(cell_changed_var_stage_1, current_action_stage_0)
    CONSTANTS
        success, failure, running, invalid;
    DEFINE
        status := active ? internal_status : invalid;
        internal_status := ((cell_changed_var_stage_1 | (current_action_stage_0 = no_action))) ? success : failure;
MODULE not_at_destination_module(current_action_stage_0, destination_x_stage_0, destination_y_stage_0, drone_x_stage_1, drone_y_stage_1)
    CONSTANTS
        success, failure, running, invalid;
    DEFINE
        status := active ? internal_status : invalid;
        internal_status := (!((((destination_x_stage_0 = drone_x_stage_1) & (destination_y_stage_0 = drone_y_stage_1)) | (current_action_stage_0 = no_action)))) ? success : failure;
MODULE success_DEFAULT_module
    CONSTANTS
        success, failure, running, invalid;
    DEFINE
        status := active ? internal_status : invalid;
        internal_status := success;
